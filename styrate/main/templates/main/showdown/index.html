{% extends '../layout.html' %}
{% load static %}
{% block head %}
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <script src="{% static 'script.js' %}" defer></script>
    <style>
        /* CSS styles */
    </style>
{% endblock %}
{% block body %}
<script>
    // Calculate remaining time in seconds
    var remainingTime = Math.floor((new Date("2023-07-06T00:00:00Z") - new Date()) / 1000);
    
    // Update the countdown timer every second
    setInterval(updateCountdown, 1000);
    
    function updateCountdown() {
        var daysElem = document.getElementById("days");
        var hoursElem = document.getElementById("hours");
        var minutesElem = document.getElementById("minutes");
        var secondsElem = document.getElementById("seconds");
    
        // Calculate remaining days, hours, minutes, and seconds
        var days = Math.floor(remainingTime / (60 * 60 * 24));
        var hours = Math.floor((remainingTime % (60 * 60 * 24)) / (60 * 60));
        var minutes = Math.floor((remainingTime % (60 * 60)) / 60);
        var seconds = remainingTime % 60;
    
        // Update the countdown timer elements
        daysElem.innerText = days;
        hoursElem.innerText = hours;
        minutesElem.innerText = minutes;
        secondsElem.innerText = seconds;
    
        // Decrease the remaining time by 1 second
        remainingTime--;
    }
</script>
<div class="headerContainer">
    <header id="header" class="center">
        <div class="headerInner">
            <div class="logo center">
                <h3 class="center">
                    <a href="/" class="center">STYRATE</a>
                </h3>
            </div>
            <nav>
                <ul>
                    <li><a href="/" class="off">Home</a></li>
                    <li><a href="/top" class="off">Leaderboard</a></li>
                    <li><a href="/new" class="off">Create</a></li>
                    <li><a href="/submitted" class='off'>Submitted</a></li>
                    <li class="center">
                        <a href="/account/{{user.id}}" class="account" style="background-image: url('{{user.image.url}}');" aria-label="Account Page"></a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <style>
        /* Header styles */
    </style>
</div>
<div class="contentContainer">
    <section id="new" class="center">
        <form onsubmit="checkReviewDetails(event)" action="/newReview" method="POST" enctype="multipart/form-data" id="newForm" data-form-type="other">
            {% csrf_token %}
            <h1>Create A Review</h1>
            <div class="reviewTitle inputContainer">
                <label for="reviewTitle">Give your review a title</label>
                <input type="text" required="" name="reviewTitle" data-form-type="title,job" data-kwimpalastatus="alive" data-kwimpalaid="1684947120595-0" />
                <span class="off error" id="titleError">Review title should be less than 100 characters.</span>
            </div>
            <div class="reviewOverview inputContainer">
                <label for="reviewOverview">Give a short summary of your review</label>
                <textarea type="text" required="" name="reviewOverview" data-form-type="other"></textarea>
                <span class="off error" id="overviewError">Review summary should be less than 100 characters.</span>
            </div>
            <div class="inputContainer reviewVideoID">
                <label for="reviewVideoID">Provide the video link</label>
                <input type="text" name="reviewVideoID" required="" data-form-type="other" />
            </div>
            <button type="submit" data-form-type="action">Submit Review</button>
            <span class="error off" id="mainErr">Please check the form for errors.</span>
        </form>
    </section>
    <div class="main-content">
        <div class="sidebar">
            <div class="top-video">
                <p>First video</p>
                <div id="videoEmbedInner1"></div>
                <script defer>
                    document.getElementById('videoEmbedInner1').innerHTML = embedVideo('{{ review.0.videoID }}');
                </script>
                <img src="" alt="" class="vid" />
            </div>
            <div class="second-video">
                <p>Second Video</p>
                <div id="videoEmbedInner2"></div>
                <script defer>
                    document.getElementById('videoEmbedInner2').innerHTML = embedVideo('{{ review.1.videoID }}');
                </script>
                <img src="" alt="" class="vid" />
            </div>
            <div class="third-video">
                <p>Third video</p>
                <div id="videoEmbedInner3"></div>
                <script defer>
                    document.getElementById('videoEmbedInner3').innerHTML = embedVideo('{{ review.2.videoID }}');
                </script>
                <img src="" alt="" class="vid" />
            </div>
        </div>
        <div class="mid-content">
            <div class="ctd">
                <div class="timebox">
                    <div class="countdown-item">
                        <span id="days"></span> Days
                    </div>
                    <div class="countdown-item">
                        <span id="hours"></span> Hours
                    </div>
                    <div class="countdown-item">
                        <span id="minutes"></span> Minutes
                    </div>
                    <div class="countdown-item">
                        <span id="seconds"></span> Seconds
                    </div>
                </div>
            </div>
            <div class="flex-product flexed">
                <div class="product-info">
                    <div class="container-info">
                        <a href="https://shareasale.com/r.cfm?b=2096745&u=3757210&m=99503&urllink=https%3A%2F%2Fwww.eksa.net%2Fproducts%2Feksa-e400-3d-stereo-sound-gaming-headset%3Fsscid%3D71k7_k7je&afftrack">
                            <img src="https://cdn.shopify.com/s/files/1/0287/1138/7195/products/EKSA-E400-product-black_73faf5cc-5449-4cdf-866e-aff89aadabbc.jpg?v=1681452100&width=1000" alt="" class="bgimg-product" />
                        </a>
                        <h2 class="container-new">Description</h2>
                        <p class="price container-new">Original price: 19.98$</p>
                        <p class="discounted-price container-new">
                            Discounted price: <span class="strikethrough container-new"><s class="container-new"><del style="background-color: transparent;">16.99$</del></s></span>
                        </p>
                    </div>
                </div>
                <div class="rules">
                    <h4>Rules</h4>
                    <h3>Respect for Community</h3>
                    <p>All users should treat each other with respect and courtesy. Any offensive, harmful, or inappropriate behavior will not be tolerated.</p>
                    <h3>Authenticity of Content</h3>
                    <p>Users are expected to post authentic and genuine content. Plagiarism, fraudulent activity, and misinformation will lead to immediate account suspension.</p>
                    <h3>Product</h3>
                    <p>When participating in the Showdown feature, ensure that the featured product is clearly shown in the video.</p>
                    <h3>Responsible Sharing</h3>
                    <p>You should not post or share content that violates copyright laws, contains explicit material, or invades someone's privacy. Be mindful and respectful of the content you share.</p>
                    <h3>Engagement</h3>
                    <p>Encourage constructive interactions. Be responsive, open-minded, and ready to participate in discussions. Positive contributions will enhance the community experience for everyone.</p>
                </div>
            </div>
            <div class="aps">
                <p>Prize <span class="bold">50$</span></p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
